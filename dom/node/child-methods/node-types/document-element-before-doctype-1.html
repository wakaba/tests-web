<!DOCTYPE html>
<html>
<head>
<title>Document.insertBefore (Element, DocumentType)</title>
</head>
<p id="result" class="FAIL">FAIL (not executed)</p>
<script>
  var result = document.getElementById ('result');
  result.firstChild.data = 'FAIL (script error)';
  var doctype = document.implementation.createDocumentType ('e', null, null);
  var doc = document.implementation.createDocument (null, null, doctype);
  var docel = document.createElementNS (null, 'e');
  try {
    doc.insertBefore (docel, doctype);
    if (doctype.parentNode == doc && doc.firstChild == docel) {
      result.firstChild.data = 'PASS';
      result.className = 'PASS';
    } else {
      result.firstChild.data = 'FAIL (not appended)';
    }
  } catch (e) {
    if (e.code) {
      result.firstChild.data = 'FAIL (' + e.code + ')';
    } else {
      result.firstChild.data = 'FAIL (' + e.description + ')';
    }
  }
</script>
</html>
